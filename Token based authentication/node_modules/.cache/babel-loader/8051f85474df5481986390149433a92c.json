{"remainingRequest":"/Users/simasleonavicius/Namu/VueMastery/Token based authentication/node_modules/babel-loader/lib/index.js!/Users/simasleonavicius/Namu/VueMastery/Token based authentication/node_modules/eslint-loader/index.js??ref--13-0!/Users/simasleonavicius/Namu/VueMastery/Token based authentication/src/store.js","dependencies":[{"path":"/Users/simasleonavicius/Namu/VueMastery/Token based authentication/src/store.js","mtime":1572782543682},{"path":"/Users/simasleonavicius/Namu/VueMastery/Token based authentication/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/simasleonavicius/Namu/VueMastery/Token based authentication/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/simasleonavicius/Namu/VueMastery/Token based authentication/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Users/simasleonavicius/Namu/VueMastery/Token based authentication/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\n/* eslint-disable */\n\nexport default new Vuex.Store({\n  state: {\n    user: null\n  },\n  mutations: {\n    SET_USER_DATA: function SET_USER_DATA(state, userData) {\n      state.user = userData;\n      localStorage.setItem('user', _JSON$stringify(userData));\n      axios.defaults.headers.common['Authorization'] = \"Bearer \".concat(userData.token);\n    }\n  },\n  actions: {\n    register: function register(_ref, credentials) {\n      var commit = _ref.commit;\n      return axios.post('//localhost:3000/register', credentials).then(function (_ref2) {\n        var data = _ref2.data;\n        commit('SET_USER_DATA', data);\n      });\n    },\n    login: function login(_ref3, credentials) {\n      var commit = _ref3.commit;\n      return axios.post('//localhost:3000/login', credentials).then(function (_ref4) {\n        var data = _ref4.data;\n        commit('SET_USER_DATA', data);\n      });\n    }\n  }\n});",{"version":3,"sources":["/Users/simasleonavicius/Namu/VueMastery/Token based authentication/src/store.js"],"names":["Vue","Vuex","axios","use","Store","state","user","mutations","SET_USER_DATA","userData","localStorage","setItem","defaults","headers","common","token","actions","register","credentials","commit","post","then","data","login"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA;;AACA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE;AADD,GADqB;AAI5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,aADS,yBACKH,KADL,EACYI,QADZ,EACsB;AAC7BJ,MAAAA,KAAK,CAACC,IAAN,GAAaG,QAAb;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,gBAAeF,QAAf,CAA7B;AACAP,MAAAA,KAAK,CAACU,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,qBACEL,QAAQ,CAACM,KADX;AAGD;AAPQ,GAJiB;AAa5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,0BACcC,WADd,EAC2B;AAAA,UAAvBC,MAAuB,QAAvBA,MAAuB;AAChC,aAAOjB,KAAK,CAACkB,IAAN,CAAW,2BAAX,EAAwCF,WAAxC,EAAqDG,IAArD,CACH,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;AACZH,QAAAA,MAAM,CAAC,eAAD,EAAkBG,IAAlB,CAAN;AACD,OAHE,CAAP;AAKD,KAPM;AAQPC,IAAAA,KARO,wBAQWL,WARX,EAQwB;AAAA,UAAvBC,MAAuB,SAAvBA,MAAuB;AAC7B,aAAOjB,KAAK,CAACkB,IAAN,CAAW,wBAAX,EAAqCF,WAArC,EAAkDG,IAAlD,CACH,iBAAc;AAAA,YAAXC,IAAW,SAAXA,IAAW;AACZH,QAAAA,MAAM,CAAC,eAAD,EAAkBG,IAAlB,CAAN;AACD,OAHE,CAAP;AAKD;AAdM;AAbmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\n/* eslint-disable */\nexport default new Vuex.Store({\n  state: {\n    user: null\n  },\n  mutations: {\n    SET_USER_DATA(state, userData) {\n      state.user = userData;\n      localStorage.setItem('user', JSON.stringify(userData));\n      axios.defaults.headers.common['Authorization'] = `Bearer ${\n        userData.token\n      }`\n    }\n  },\n  actions: {\n    register({ commit }, credentials) {\n      return axios.post('//localhost:3000/register', credentials).then(\n          ({ data }) => {\n            commit('SET_USER_DATA', data);\n          }\n      )\n    },\n    login({ commit }, credentials) {\n      return axios.post('//localhost:3000/login', credentials).then(\n          ({ data }) => {\n            commit('SET_USER_DATA', data);\n          }\n      )\n    }\n  }\n})\n"]}]}